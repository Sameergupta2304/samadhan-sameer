<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Marks Calculator</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Use Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for a subtle background pattern */
        body {
            background-color: #f8fafc;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-4xl">
        
        <!-- Header Section -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Student Marks Calculator</h1>
            <p class="mt-2 text-md text-gray-600">Add student details and see their results instantly.</p>
        </header>

        <!-- Main Content -->
        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Input Form Section -->
            <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-md">
                <h2 class="text-2xl font-semibold mb-4 border-b pb-2">Add New Student</h2>
                <form id="student-form" class="space-y-4">
                    <div>
                        <label for="student-name" class="block text-sm font-medium text-gray-700">Student Name</label>
                        <input type="text" id="student-name" placeholder="e.g., John Doe" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="math-marks" class="block text-sm font-medium text-gray-700">Math Marks</label>
                        <input type="number" id="math-marks" placeholder="0-100" min="0" max="100" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="science-marks" class="block text-sm font-medium text-gray-700">Science Marks</label>
                        <input type="number" id="science-marks" placeholder="0-100" min="0" max="100" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <div>
                        <label for="english-marks" class="block text-sm font-medium text-gray-700">English Marks</label>
                        <input type="number" id="english-marks" placeholder="0-100" min="0" max="100" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out">
                        Add Student & Calculate
                    </button>
                </form>
                 <!-- Message Box for notifications -->
                <div id="message-box" class="mt-4 text-center text-sm font-medium"></div>
            </div>

            <!-- Results Display Section -->
            <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                <h2 class="text-2xl font-semibold mb-4 border-b pb-2">Results</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Average</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Grade</th>
                            </tr>
                        </thead>
                        <tbody id="results-body" class="bg-white divide-y divide-gray-200">
                            <!-- Student data will be dynamically inserted here -->
                             <tr id="no-data-row">
                                <td colspan="4" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">No student data yet.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <script>
        // --- DATA STORAGE ---
        let students = [];

        // --- DOM ELEMENT REFERENCES ---
        const form = document.getElementById('student-form');
        const studentNameInput = document.getElementById('student-name');
        const mathMarksInput = document.getElementById('math-marks');
        const scienceMarksInput = document.getElementById('science-marks');
        const englishMarksInput = document.getElementById('english-marks');
        const resultsBody = document.getElementById('results-body');
        const noDataRow = document.getElementById('no-data-row');
        const messageBox = document.getElementById('message-box');

        // --- EVENT LISTENER ---
        form.addEventListener('submit', function(event) {
            // Prevent the default form submission which reloads the page.
            event.preventDefault();

            const name = studentNameInput.value.trim();
            // Convert marks from string to number using parseInt
            const math = parseInt(mathMarksInput.value);
            const science = parseInt(scienceMarksInput.value);
            const english = parseInt(englishMarksInput.value);

            if (!name) {
                showMessage('Please enter a student name.', 'red');
                return;
            }

            const newStudent = {
                name: name,
                marks: {
                    math: math,
                    science: science,
                    english: english
                }
            };

            students.push(newStudent);
            renderResults();
            
            form.reset();
            studentNameInput.focus(); // Set focus back to the name field
            showMessage('Student added successfully!', 'green');
        });

        // --- FUNCTIONS ---

        /**
         * Calculates the total, average, and grade for a student.
         * @param {object} student - The student object.
         * @returns {object} - An object with calculated total, average, and grade.
         */
        function calculateMetrics(student) {
            const marks = student.marks;
            const totalMarks = marks.math + marks.science + marks.english;
            const average = totalMarks / 3;
            let grade = '';

            if (average >= 90) {
                grade = 'A';
            } else if (average >= 80) {
                grade = 'B';
            } else if (average >= 70) {
                grade = 'C';
            } else if (average >= 60) {
                grade = 'D';
            } else {
                grade = 'F';
            }

            return {
                total: totalMarks,
                average: average.toFixed(2), // Round to 2 decimal places
                grade: grade
            };
        }
        
        /**
         * Renders the student results in the HTML table.
         */
        function renderResults() {
            // Clear the existing table body content
            resultsBody.innerHTML = '';

            if (students.length === 0) {
                resultsBody.appendChild(noDataRow);
                return;
            }

            students.forEach(student => {
                const metrics = calculateMetrics(student);
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${metrics.total}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${metrics.average}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold ${getGradeColor(metrics.grade)}">${metrics.grade}</td>
                `;

                resultsBody.appendChild(row);
            });
        }
        
        /**
         * Returns a Tailwind CSS color class based on the grade.
         * @param {string} grade - The grade (A, B, C, D, F).
         * @returns {string} - The corresponding color class.
         */
        function getGradeColor(grade) {
            switch (grade) {
                case 'A': return 'text-green-600';
                case 'B': return 'text-blue-600';
                case 'C': return 'text-yellow-600';
                case 'D': return 'text-orange-600';
                case 'F': return 'text-red-600';
                default: return 'text-gray-500';
            }
        }

        /**
         * Displays a message to the user and clears it after a few seconds.
         * @param {string} text - The message to display.
         * @param {string} color - 'green' for success, 'red' for error.
         */
        function showMessage(text, color) {
            messageBox.textContent = text;
            messageBox.className = `mt-4 text-center text-sm font-medium ${color === 'green' ? 'text-green-600' : 'text-red-600'}`;
            
            // Clear the message after 3 seconds
            setTimeout(() => {
                messageBox.textContent = '';
            }, 3000);
        }

    </script>
</body>
</html>