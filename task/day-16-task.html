<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 16: E-commerce Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-indigo-600">GadgetGrove</h1>
            <div id="cart-button" class="relative cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-600 hover:text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <h2 class="text-3xl font-bold mb-6 text-center">Our Products</h2>
        
        <!-- Product Grid -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Product items will be injected here by JavaScript -->
        </div>
    </main>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg mx-4">
            <div class="p-6 border-b flex justify-between items-center">
                <h3 class="text-2xl font-semibold">Your Shopping Cart</h3>
                <button id="close-cart" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="cart-items" class="p-6 max-h-96 overflow-y-auto">
                <!-- Cart items will be injected here -->
                <p id="empty-cart-message">Your cart is empty.</p>
            </div>
            <div class="p-6 bg-gray-50 rounded-b-lg">
                <div class="flex justify-between items-center font-bold text-xl">
                    <span>Total:</span>
                    <span id="cart-total">$0.00</span>
                </div>
                <button class="w-full mt-4 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const products = [
                { id: 1, name: 'Wireless Mouse', price: 25.99, image: 'https://placehold.co/400x400/6366f1/ffffff?text=Mouse' },
                { id: 2, name: 'Mechanical Keyboard', price: 79.50, image: 'https://placehold.co/400x400/34d399/ffffff?text=Keyboard' },
                { id: 3, name: '4K Monitor', price: 349.00, image: 'https://placehold.co/400x400/f59e0b/ffffff?text=Monitor' },
                { id: 4, name: 'USB-C Hub', price: 45.00, image: 'https://placehold.co/400x400/ef4444/ffffff?text=Hub' },
                { id: 5, name: 'Noise-Cancelling Headphones', price: 199.99, image: 'https://placehold.co/400x400/8b5cf6/ffffff?text=Headphones' },
                { id: 6, name: 'Webcam HD', price: 59.99, image: 'https://placehold.co/400x400/10b981/ffffff?text=Webcam' },
                { id: 7, name: 'Ergonomic Chair', price: 250.00, image: 'https://placehold.co/400x400/3b82f6/ffffff?text=Chair' },
                { id: 8, name: 'Laptop Stand', price: 35.50, image: 'https://placehold.co/400x400/ec4899/ffffff?text=Stand' },
            ];

            let cart = [];

            const productGrid = document.getElementById('product-grid');
            const cartButton = document.getElementById('cart-button');
            const cartModal = document.getElementById('cart-modal');
            const closeCartButton = document.getElementById('close-cart');
            const cartCount = document.getElementById('cart-count');
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const emptyCartMessage = document.getElementById('empty-cart-message');

            // --- RENDER PRODUCTS ---
            function renderProducts() {
                productGrid.innerHTML = '';
                products.forEach(product => {
                    const productEl = document.createElement('div');
                    productEl.className = 'bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300';
                    productEl.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="w-full h-56 object-cover">
                        <div class="p-4">
                            <h3 class="text-lg font-semibold">${product.name}</h3>
                            <p class="text-gray-600 mt-1">$${product.price.toFixed(2)}</p>
                            <button data-id="${product.id}" class="add-to-cart-btn w-full mt-4 bg-indigo-500 text-white py-2 rounded-lg font-semibold hover:bg-indigo-600 transition-colors">
                                Add to Cart
                            </button>
                        </div>
                    `;
                    productGrid.appendChild(productEl);
                });
            }

            // --- CART LOGIC ---
            function addToCart(productId) {
                const product = products.find(p => p.id === productId);
                const cartItem = cart.find(item => item.id === productId);

                if (cartItem) {
                    cartItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCart();
            }

            function updateCart() {
                renderCartItems();
                updateCartCount();
                updateCartTotal();
            }
            
            function renderCartItems() {
                cartItemsContainer.innerHTML = '';
                if (cart.length === 0) {
                    cartItemsContainer.appendChild(emptyCartMessage);
                    emptyCartMessage.style.display = 'block';
                } else {
                    emptyCartMessage.style.display = 'none';
                    cart.forEach(item => {
                        const itemEl = document.createElement('div');
                        itemEl.className = 'flex justify-between items-center py-3 border-b';
                        itemEl.innerHTML = `
                            <div class="flex items-center">
                                <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md mr-4">
                                <div>
                                    <p class="font-semibold">${item.name}</p>
                                    <p class="text-gray-500 text-sm">$${item.price.toFixed(2)}</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <p class="mx-4">Qty: ${item.quantity}</p>
                            </div>
                        `;
                        cartItemsContainer.appendChild(itemEl);
                    });
                }
            }

            function updateCartCount() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;
            }

            function updateCartTotal() {
                const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
                cartTotal.textContent = `$${total.toFixed(2)}`;
            }


            // --- EVENT LISTENERS ---
            productGrid.addEventListener('click', (e) => {
                if (e.target.classList.contains('add-to-cart-btn')) {
                    const productId = parseInt(e.target.dataset.id);
                    addToCart(productId);
                }
            });

            cartButton.addEventListener('click', () => {
                cartModal.classList.remove('hidden');
            });

            closeCartButton.addEventListener('click', () => {
                cartModal.classList.add('hidden');
            });
            
            // Close modal if clicking outside of it
            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    cartModal.classList.add('hidden');
                }
            });

            // --- INITIALIZE ---
            renderProducts();
            updateCart();
        });
    </script>
</body>
</html>